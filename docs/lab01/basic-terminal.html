<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Workshop 3. Learn basic Terminal command | AIT SAD 2022</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/Software-Architecture/assets/css/0.styles.784d81f9.css" as="style"><link rel="preload" href="/Software-Architecture/assets/js/app.178fe564.js" as="script"><link rel="preload" href="/Software-Architecture/assets/js/2.afe5a6c2.js" as="script"><link rel="preload" href="/Software-Architecture/assets/js/14.d09b7494.js" as="script"><link rel="prefetch" href="/Software-Architecture/assets/js/10.7091f0c0.js"><link rel="prefetch" href="/Software-Architecture/assets/js/11.dd33a40a.js"><link rel="prefetch" href="/Software-Architecture/assets/js/12.d4f10207.js"><link rel="prefetch" href="/Software-Architecture/assets/js/13.c99b4940.js"><link rel="prefetch" href="/Software-Architecture/assets/js/15.58e6666a.js"><link rel="prefetch" href="/Software-Architecture/assets/js/16.319d1fdf.js"><link rel="prefetch" href="/Software-Architecture/assets/js/17.2dd36bb7.js"><link rel="prefetch" href="/Software-Architecture/assets/js/18.ef09eca2.js"><link rel="prefetch" href="/Software-Architecture/assets/js/19.a8106ce9.js"><link rel="prefetch" href="/Software-Architecture/assets/js/20.fbdf516b.js"><link rel="prefetch" href="/Software-Architecture/assets/js/21.30f50211.js"><link rel="prefetch" href="/Software-Architecture/assets/js/22.e625aed4.js"><link rel="prefetch" href="/Software-Architecture/assets/js/23.c6bd33dc.js"><link rel="prefetch" href="/Software-Architecture/assets/js/24.8f27f92e.js"><link rel="prefetch" href="/Software-Architecture/assets/js/25.1c4dabb9.js"><link rel="prefetch" href="/Software-Architecture/assets/js/26.e8945b9a.js"><link rel="prefetch" href="/Software-Architecture/assets/js/27.20adfafd.js"><link rel="prefetch" href="/Software-Architecture/assets/js/28.420d2bc6.js"><link rel="prefetch" href="/Software-Architecture/assets/js/29.bcb8e4de.js"><link rel="prefetch" href="/Software-Architecture/assets/js/3.ec89de63.js"><link rel="prefetch" href="/Software-Architecture/assets/js/30.c125c5ee.js"><link rel="prefetch" href="/Software-Architecture/assets/js/31.225e4828.js"><link rel="prefetch" href="/Software-Architecture/assets/js/32.e84f5688.js"><link rel="prefetch" href="/Software-Architecture/assets/js/33.53e7ec34.js"><link rel="prefetch" href="/Software-Architecture/assets/js/34.d373a4f3.js"><link rel="prefetch" href="/Software-Architecture/assets/js/35.c918d7e9.js"><link rel="prefetch" href="/Software-Architecture/assets/js/4.2ff3abf9.js"><link rel="prefetch" href="/Software-Architecture/assets/js/5.df8539b8.js"><link rel="prefetch" href="/Software-Architecture/assets/js/6.a304e6c2.js"><link rel="prefetch" href="/Software-Architecture/assets/js/7.77d3b96e.js"><link rel="prefetch" href="/Software-Architecture/assets/js/8.c03be375.js"><link rel="prefetch" href="/Software-Architecture/assets/js/9.1c7af493.js">
    <link rel="stylesheet" href="/Software-Architecture/assets/css/0.styles.784d81f9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Software-Architecture/" class="home-link router-link-active"><!----> <span class="site-name">AIT SAD 2022</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/chaklam-silpasuwanchai/Software-Architecture" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/chaklam-silpasuwanchai/Software-Architecture" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="workshop-3-learn-basic-terminal-command"><a href="#workshop-3-learn-basic-terminal-command" class="header-anchor">#</a> Workshop 3. Learn basic Terminal command</h1> <p>For all Padawans, you must know how to use terminal. To use the terminal, you need to know how to use Terminal command.</p> <p>We can not go through all the command (even all of the basic commands) because there are tonsssss of them. Below is link to Cheat Sheet for essential terminal commands.</p> <p><a href="https://www.git-tower.com/blog/command-line-cheat-sheet/" target="_blank" rel="noopener noreferrer">Resource 1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://cheatography.com/davechild/cheat-sheets/linux-command-line/" target="_blank" rel="noopener noreferrer">Resource 2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.guru99.com/linux-commands-cheat-sheet.html" target="_blank" rel="noopener noreferrer">Resource 3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="bonus-the-nice-to-know-command"><a href="#bonus-the-nice-to-know-command" class="header-anchor">#</a> Bonus: The nice to know command</h2> <p></p><div class="table-of-contents"><ul><li><a href="#bonus-the-nice-to-know-command">Bonus: The nice to know command</a><ul><li><a href="#_1-crontab">1. crontab</a></li><li><a href="#_2-wc">2. wc</a></li><li><a href="#_3-sed">3. sed</a></li><li><a href="#_4-awk">4. awk</a></li><li><a href="#_5-environment-variable">5. Environment Variable</a></li></ul></li></ul></div><p></p> <p>Aside from the basic commands we learnt earlier, there are a bunch of out-of-the-box commands/tools/utilities in Ubuntu and many other Linux.</p> <h3 id="_1-crontab"><a href="#_1-crontab" class="header-anchor">#</a> 1. crontab</h3> <p>Cron is a job scheduler. That is it. done. move along..... Okay okay, I will explain more.</p> <blockquote><p><a href="https://en.wikipedia.org/wiki/Job_scheduler" target="_blank" rel="noopener noreferrer">Wiki<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>A job scheduler is a computer application for controlling unattended background program execution of jobs. This is commonly called batch scheduling, as execution of non-interactive jobs is often called batch processing, though traditional job and batch are distinguished and contrasted; see that page for details. Other synonyms include batch system, distributed resource management system (DRMS), distributed resource manager (DRM), and, commonly today, workload automation (WLA). The data structure of jobs to run is known as the job queue.</p></blockquote> <p>TL;DR, If you want to set an alarm clock, you can ask cron to wake you up at every certain time. Every OS has its own cron variant.</p> <p>Okay, let's play with cron</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> ~ <span class="token comment"># go to your home directory</span>
<span class="token function">mkdir</span> playGrd <span class="token comment"># create new directory named 'playGrd'</span>
<span class="token builtin class-name">cd</span> playGrd <span class="token comment"># go to playGrd</span>
<span class="token function">touch</span> paper <span class="token comment"># create new empty file called 'paper'</span>
<span class="token function">ls</span> -l <span class="token comment"># list all files in current directory with -l:use a long listing format</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>total 0
-rw-rw-r-- 1 {your_name} {your_name} 0 Dec  9 22:39 paper
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Now, we are going to manually write current date and time into our paper.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">date</span> <span class="token operator">&gt;&gt;</span> paper <span class="token comment"># ask date time from system and route the output to 'paper'</span>
<span class="token function">cat</span> paper <span class="token comment"># print content in 'paper'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>Thu 09 Dec 2021 10:45:06 PM +07
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You can do this multiple time to see what will happend.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">date</span> <span class="token operator">&gt;&gt;</span> paper
<span class="token function">date</span> <span class="token operator">&gt;&gt;</span> paper
<span class="token function">date</span> <span class="token operator">&gt;&gt;</span> paper
<span class="token function">cat</span> paper
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>Thu 09 Dec 2021 10:45:06 PM +07
Thu 09 Dec 2021 10:48:25 PM +07
Thu 09 Dec 2021 10:48:25 PM +07
Thu 09 Dec 2021 10:48:25 PM +07
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Now, instead of we write this ourselve, we ask cron to do this every minute.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">crontab</span> -e <span class="token comment"># this will enter your default crontab file.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>: if you have never use crontab before, this is what you should see</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code># Edit this file to introduce tasks to be run by cron.
# 
# Each task to run has to be defined through a single line
# indicating with different fields when the task will be run
# and what command to run for the task
# 
# To define the time you can provide concrete values for
# minute (m), hour (h), day of month (dom), month (mon),
# and day of week (dow) or use '*' in these fields (for 'any').
# 
# Notice that tasks will be started based on the cron's system
# daemon's notion of time and timezones.
# 
# Output of the crontab jobs (including errors) is sent through
# email to the user the crontab file belongs to (unless redirected).
# 
# For example, you can run a backup of all your user accounts
# at 5 a.m every week with:
# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/
# 
# For more information see the manual pages of crontab(5) and cron(8)
# 
# m h  dom mon dow   command

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>Now, the syntax of cron consisting of 6 parameters as followed.</p> <blockquote><p><a href="https://en.wikipedia.org/wiki/Cron" target="_blank" rel="noopener noreferrer">Wiki<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code># ┌───────────── minute (0 - 59)
# │ ┌───────────── hour (0 - 23)
# │ │ ┌───────────── day of the month (1 - 31)
# │ │ │ ┌───────────── month (1 - 12)
# │ │ │ │ ┌───────────── day of the week (0 - 6) (Sunday to Saturday;
# │ │ │ │ │                                   7 is also Sunday on some systems)
# │ │ │ │ │
# │ │ │ │ │
# * * * * * &amp;lt;command to execute&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></blockquote> <p>The <code>*</code> is not a placeholder but it is a regular expression means <em>any</em>. Thus, this <code>* * * * *</code> means any minute, any hour, any day, any month, and any week day.</p> <p>Let's ask crontab to write date every minute. Go to the bottom of the your default crontab file and put <code>* * * * * date &gt;&gt; ~/playGrd/paper</code></p> <p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-text"><code># Edit this file to introduce tasks to be run by cron.
# 
# Each task to run has to be defined through a single line
# indicating with different fields when the task will be run
# and what command to run for the task
# 
# To define the time you can provide concrete values for
# minute (m), hour (h), day of month (dom), month (mon),
# and day of week (dow) or use '*' in these fields (for 'any').
# 
# Notice that tasks will be started based on the cron's system
# daemon's notion of time and timezones.
# 
# Output of the crontab jobs (including errors) is sent through
# email to the user the crontab file belongs to (unless redirected).
# 
# For example, you can run a backup of all your user accounts
# at 5 a.m every week with:
# 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/
# 
# For more information see the manual pages of crontab(5) and cron(8)
# 
# m h  dom mon dow   command
* * * * * date &gt;&gt; ~/playGrd/paper
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>save your crontab files and exceute <code>crontab -l</code> to see the current crontab jobs. (Lol, its just print the crontab file for you).</p> <p>Now, let's observe the <code>paper</code> that cron actually write <code>date</code> for us every minute.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">tail</span> -f ~/playGrd/paper <span class="token comment"># print the last 5 lines and constantly printing the update</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br></div><pre class="language-text"><code>Thu 09 Dec 2021 10:45:06 PM +07 
Thu 09 Dec 2021 10:48:25 PM +07 
Thu 09 Dec 2021 10:48:25 PM +07 
Thu 09 Dec 2021 10:48:25 PM +07 
Thu 09 Dec 2021 11:03:01 PM +07
Thu 09 Dec 2021 11:04:01 PM +07
Thu 09 Dec 2021 11:05:01 PM +07
Thu 09 Dec 2021 11:06:01 PM +07
Thu 09 Dec 2021 11:07:01 PM +07
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>As we can observe, cron did write the <code>date</code> every minute but it is late by 1 second.</p> <h3 id="_2-wc"><a href="#_2-wc" class="header-anchor">#</a> 2. wc</h3> <p><code>wc</code> command will count number of lines, words, and bytes of interested file.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> ~/playGrd
<span class="token builtin class-name">printf</span> <span class="token string">&quot;word1 word2 word3<span class="token entity" title="\n">\n</span>word4<span class="token entity" title="\n">\n</span>word5<span class="token entity" title="\n">\n</span>word6&quot;</span> <span class="token operator">&gt;</span> doc
<span class="token function">cat</span> doc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>word1 word2 word3
word4
word5
word6{your_name}@{machine_name}:~/playGrd$ 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Let's ask <code>wc</code> how many lines, and words in this <em>doc</em> file.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">wc</span> doc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code> 3  6 35 doc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>wc</code> tells that there are <code>3 lines</code>, <code>6 words</code>, and <code>35 bytes</code> in <em>doc</em> file.</p> <h3 id="_3-sed"><a href="#_3-sed" class="header-anchor">#</a> 3. sed</h3> <p>Download <a href="/sample-data/10-audio.csv">10-audio.csv</a> file.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">mv</span> ~/Downloads/10-audio.csv ~/playGrd/
<span class="token builtin class-name">cd</span> ~/playGrd
<span class="token function">head</span> <span class="token number">10</span>-audio.csv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>timestamps,e1,e2,e3,e4,e5,e6,e7,e8,Marker
461.662,15891.174,4424.394,-10929.892,-35342.266,8432.173,-33484.656,-26816.104,-35684.516,0
461.663,15852.706,4367.218,-10978.551,-35400.895,8377.434,-33542.637,-26873.033,-35742.383,0
461.663,15793.318,4297.369,-11044.467,-35470.742,8309.351,-33611.055,-26941.475,-35811.832,0
461.663,15790.927,4305.080,-11047.238,-35466.297,8313.799,-33606.652,-26936.176,-35808.145,0
461.663,15862.273,4387.737,-10966.504,-35377.535,8400.702,-33519.055,-26845.697,-35719.520,0
461.663,15921.572,4446.678,-10906.534,-35320.852,8458.615,-33460.383,-26789.438,-35663.125,0
461.663,15880.557,4393.772,-10954.277,-35379.660,8401.663,-33519.391,-26847.418,-35720.523,0
461.663,15816.229,4320.659,-11021.824,-35452.348,8332.328,-33593.242,-26918.027,-35791.379,0
461.663,15804.024,4318.826,-11030.161,-35455.367,8328.640,-33594.984,-26922.162,-35795.445,0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">wc</span> <span class="token number">10</span>-audio.csv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>  113941   113941 10619374 10-audio.csv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>In brief, this is a recorded EEG data in csv (comma-separated values). It has 113941 lines of data. Interestingly, <code>wc</code> also reports number of words to be the same as number of lines. Now, I want to change the delimiter from <code>,</code> to <code>SEP</code>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sed</span> <span class="token string">'s/,/SEP/g'</span> <span class="token number">10</span>-audio.csv <span class="token operator">|</span> <span class="token function">head</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>timestampsSEPe1SEPe2SEPe3SEPe4SEPe5SEPe6SEPe7SEPe8SEPMarker
461.662SEP15891.174SEP4424.394SEP-10929.892SEP-35342.266SEP8432.173SEP-33484.656SEP-26816.104SEP-35684.516SEP0
461.663SEP15852.706SEP4367.218SEP-10978.551SEP-35400.895SEP8377.434SEP-33542.637SEP-26873.033SEP-35742.383SEP0
461.663SEP15793.318SEP4297.369SEP-11044.467SEP-35470.742SEP8309.351SEP-33611.055SEP-26941.475SEP-35811.832SEP0
461.663SEP15790.927SEP4305.080SEP-11047.238SEP-35466.297SEP8313.799SEP-33606.652SEP-26936.176SEP-35808.145SEP0
461.663SEP15862.273SEP4387.737SEP-10966.504SEP-35377.535SEP8400.702SEP-33519.055SEP-26845.697SEP-35719.520SEP0
461.663SEP15921.572SEP4446.678SEP-10906.534SEP-35320.852SEP8458.615SEP-33460.383SEP-26789.438SEP-35663.125SEP0
461.663SEP15880.557SEP4393.772SEP-10954.277SEP-35379.660SEP8401.663SEP-33519.391SEP-26847.418SEP-35720.523SEP0
461.663SEP15816.229SEP4320.659SEP-11021.824SEP-35452.348SEP8332.328SEP-33593.242SEP-26918.027SEP-35791.379SEP0
461.663SEP15804.024SEP4318.826SEP-11030.161SEP-35455.367SEP8328.640SEP-33594.984SEP-26922.162SEP-35795.445SEP0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>The first argument of <code>sed</code> is a regular expression <code>'s/{match_pattern}/{replace_pattern}/g'</code>. Now, let's change the delimiter from <code>,</code> to <code></code> and count the number of words again.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sed</span> <span class="token string">'s/,/ /g'</span> <span class="token number">10</span>-audio.csv <span class="token operator">|</span> <span class="token function">wc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code> 113941 1139410 10619374
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Now, the number of words is ten time greater the the number of lines.</p> <h3 id="_4-awk"><a href="#_4-awk" class="header-anchor">#</a> 4. awk</h3> <p>Finally, we will play around with <code>awk</code>. Before we start, the summary of <code>awk</code> is it is a programming language.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">awk</span> <span class="token string">'{}'</span> <span class="token number">10</span>-audio.csv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code></code></pre> <div class="line-numbers-wrapper"></div></div><p>The output is empty because we did not tell <code>awk</code> what to do.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">awk</span> <span class="token string">'{print}'</span> <span class="token number">10</span>-audio.csv <span class="token operator">|</span> <span class="token function">head</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>timestamps,e1,e2,e3,e4,e5,e6,e7,e8,Marker
461.662,15891.174,4424.394,-10929.892,-35342.266,8432.173,-33484.656,-26816.104,-35684.516,0
461.663,15852.706,4367.218,-10978.551,-35400.895,8377.434,-33542.637,-26873.033,-35742.383,0
461.663,15793.318,4297.369,-11044.467,-35470.742,8309.351,-33611.055,-26941.475,-35811.832,0
461.663,15790.927,4305.080,-11047.238,-35466.297,8313.799,-33606.652,-26936.176,-35808.145,0
461.663,15862.273,4387.737,-10966.504,-35377.535,8400.702,-33519.055,-26845.697,-35719.520,0
461.663,15921.572,4446.678,-10906.534,-35320.852,8458.615,-33460.383,-26789.438,-35663.125,0
461.663,15880.557,4393.772,-10954.277,-35379.660,8401.663,-33519.391,-26847.418,-35720.523,0
461.663,15816.229,4320.659,-11021.824,-35452.348,8332.328,-33593.242,-26918.027,-35791.379,0
461.663,15804.024,4318.826,-11030.161,-35455.367,8328.640,-33594.984,-26922.162,-35795.445,0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Now, we tell <code>awk</code> to just <code>print</code></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">awk</span> <span class="token string">'{print $0 &quot;|---|&quot; $1 &quot;|==|&quot; $2}'</span> <span class="token number">10</span>-audio.csv <span class="token operator">|</span> <span class="token function">head</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>timestamps,e1,e2,e3,e4,e5,e6,e7,e8,Marker|---|timestamps,e1,e2,e3,e4,e5,e6,e7,e8,Marker|==|
461.662,15891.174,4424.394,-10929.892,-35342.266,8432.173,-33484.656,-26816.104,-35684.516,0|---|461.662,15891.174,4424.394,-10929.892,-35342.266,8432.173,-33484.656,-26816.104,-35684.516,0|==|
461.663,15852.706,4367.218,-10978.551,-35400.895,8377.434,-33542.637,-26873.033,-35742.383,0|---|461.663,15852.706,4367.218,-10978.551,-35400.895,8377.434,-33542.637,-26873.033,-35742.383,0|==|
461.663,15793.318,4297.369,-11044.467,-35470.742,8309.351,-33611.055,-26941.475,-35811.832,0|---|461.663,15793.318,4297.369,-11044.467,-35470.742,8309.351,-33611.055,-26941.475,-35811.832,0|==|
461.663,15790.927,4305.080,-11047.238,-35466.297,8313.799,-33606.652,-26936.176,-35808.145,0|---|461.663,15790.927,4305.080,-11047.238,-35466.297,8313.799,-33606.652,-26936.176,-35808.145,0|==|
461.663,15862.273,4387.737,-10966.504,-35377.535,8400.702,-33519.055,-26845.697,-35719.520,0|---|461.663,15862.273,4387.737,-10966.504,-35377.535,8400.702,-33519.055,-26845.697,-35719.520,0|==|
461.663,15921.572,4446.678,-10906.534,-35320.852,8458.615,-33460.383,-26789.438,-35663.125,0|---|461.663,15921.572,4446.678,-10906.534,-35320.852,8458.615,-33460.383,-26789.438,-35663.125,0|==|
461.663,15880.557,4393.772,-10954.277,-35379.660,8401.663,-33519.391,-26847.418,-35720.523,0|---|461.663,15880.557,4393.772,-10954.277,-35379.660,8401.663,-33519.391,-26847.418,-35720.523,0|==|
461.663,15816.229,4320.659,-11021.824,-35452.348,8332.328,-33593.242,-26918.027,-35791.379,0|---|461.663,15816.229,4320.659,-11021.824,-35452.348,8332.328,-33593.242,-26918.027,-35791.379,0|==|
461.663,15804.024,4318.826,-11030.161,-35455.367,8328.640,-33594.984,-26922.162,-35795.445,0|---|461.663,15804.024,4318.826,-11030.161,-35455.367,8328.640,-33594.984,-26922.162,-35795.445,0|==|
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>What just happened??? First, remember that <code>awk</code> is a language itself. The <code>print</code> is actually a function that takes some argument, in this case, four arguments (<code>$0</code>, <code>&quot;|---|&quot;</code>, <code>$1</code>, <code>&quot;|==|&quot;</code>, <code>$2</code>).</p> <p>Let's observe the following example.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">awk</span> -F , <span class="token string">'{print $0 &quot;|---|&quot; $1 &quot;|==|&quot; $2}'</span> <span class="token number">10</span>-audio.csv <span class="token operator">|</span> <span class="token function">head</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>timestamps,e1,e2,e3,e4,e5,e6,e7,e8,Marker|---|timestamps|==|e1
461.662,15891.174,4424.394,-10929.892,-35342.266,8432.173,-33484.656,-26816.104,-35684.516,0|---|461.662|==|15891.174
461.663,15852.706,4367.218,-10978.551,-35400.895,8377.434,-33542.637,-26873.033,-35742.383,0|---|461.663|==|15852.706
461.663,15793.318,4297.369,-11044.467,-35470.742,8309.351,-33611.055,-26941.475,-35811.832,0|---|461.663|==|15793.318
461.663,15790.927,4305.080,-11047.238,-35466.297,8313.799,-33606.652,-26936.176,-35808.145,0|---|461.663|==|15790.927
461.663,15862.273,4387.737,-10966.504,-35377.535,8400.702,-33519.055,-26845.697,-35719.520,0|---|461.663|==|15862.273
461.663,15921.572,4446.678,-10906.534,-35320.852,8458.615,-33460.383,-26789.438,-35663.125,0|---|461.663|==|15921.572
461.663,15880.557,4393.772,-10954.277,-35379.660,8401.663,-33519.391,-26847.418,-35720.523,0|---|461.663|==|15880.557
461.663,15816.229,4320.659,-11021.824,-35452.348,8332.328,-33593.242,-26918.027,-35791.379,0|---|461.663|==|15816.229
461.663,15804.024,4318.826,-11030.161,-35455.367,8328.640,-33594.984,-26922.162,-35795.445,0|---|461.663|==|15804.024
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Explanation time: <code>awk</code> loops through lines of <code>10-audio.csv</code>. It seperates each line into column with <code></code> as a default delimiter. <code>$1</code>,<code>$2</code>,... refers to colums in order from left to right with <code>$0</code> refers to the entire line. In the previous example, option <code>-F</code> overrides the defult delimiter to a comma (<code>,</code>).</p> <p>Now, <code>10-audio.csv</code> has 10 columns. I want to have this data but only colums <code>e1,e3,e4,e8,Marker</code>. For extra fun, I will add a new index in the first column.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">awk</span> -F , <span class="token string">'BEGIN {cnt=&quot;index&quot;} {print cnt &quot;,&quot; $2 &quot;,&quot; $4 &quot;,&quot; $5 &quot;,&quot; $9 &quot;,&quot; $10; ++cnt}'</span> <span class="token number">10</span>-audio.csv <span class="token operator">|</span> <span class="token function">head</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>index,e1,e3,e4,e8,Marker
1,15891.174,-10929.892,-35342.266,-35684.516,0
2,15852.706,-10978.551,-35400.895,-35742.383,0
3,15793.318,-11044.467,-35470.742,-35811.832,0
4,15790.927,-11047.238,-35466.297,-35808.145,0
5,15862.273,-10966.504,-35377.535,-35719.520,0
6,15921.572,-10906.534,-35320.852,-35663.125,0
7,15880.557,-10954.277,-35379.660,-35720.523,0
8,15816.229,-11021.824,-35452.348,-35791.379,0
9,15804.024,-11030.161,-35455.367,-35795.445,0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Now, I will go fully <code>awk</code> programming approach.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">awk</span> <span class="token string">'BEGIN {FS=&quot;,&quot;;OFS=&quot;||&quot;; cnt=&quot;index&quot;} NR%2==1 {print cnt,$2,$4,$5,$9,$10;} {++cnt}'</span> <span class="token number">10</span>-audio.csv <span class="token operator">|</span> <span class="token function">head</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>index||e1||e3||e4||e8||Marker
2||15852.706||-10978.551||-35400.895||-35742.383||0
4||15790.927||-11047.238||-35466.297||-35808.145||0
6||15921.572||-10906.534||-35320.852||-35663.125||0
8||15816.229||-11021.824||-35452.348||-35791.379||0
10||15877.651||-10948.466||-35365.758||-35706.176||0
12||15878.210||-10954.635||-35383.078||-35723.945||0
14||15804.739||-11035.771||-35459.547||-35804.680||0
16||15927.473||-10900.767||-35317.434||-35664.242||0
18||15821.771||-11020.103||-35448.793||-35792.629||0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Here I can find the line in which the marker is not <code>0</code></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">awk</span> <span class="token string">'BEGIN {FS=&quot;,&quot;;OFS=&quot;||&quot;; cnt=&quot;index&quot;} $10!=0 {print cnt,$2,$4,$5,$9,$10;} {++cnt}'</span> <span class="token number">10</span>-audio.csv <span class="token operator">|</span> <span class="token function">head</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>index||e1||e3||e4||e8||Marker
933||15942.024||-10896.453||-35300.199||-35606.016||5_2_1
2390||15727.045||-11126.296||-35432.230||-35774.371||5_2_2
3893||15738.646||-11260.384||-35524.590||-35879.043||5_2_3
5396||15749.620||-11334.815||-35571.059||-35904.926||5_2_4
6900||15760.617||-11384.593||-35561.426||-35892.430||5_2_5
8417||15753.599||-11470.021||-35595.465||-35926.449||-1
12190||15708.202||-11558.064||-35561.492||-35884.250||1_1_1
13618||15756.907||-11589.000||-35489.406||-35832.395||1_1_2
15136||15861.379||-11521.854||-35394.031||-35729.711||1_1_3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>And I can also count how many markers that is not 0 and -1 do I have in the file.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">awk</span> <span class="token string">'BEGIN {FS=&quot;,&quot;;OFS=&quot;||&quot;; cnt=&quot;index&quot;} $10!=0&amp;&amp;$10!=-1 {print cnt,$2,$4,$5,$9,$10;} {++cnt}'</span> <span class="token number">10</span>-audio.csv <span class="token operator">|</span> <span class="token function">wc</span> -l
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>51
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>It is actually has 50 markers. The output is 51 because the first line is a header.</p> <p>Another approach to this task</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">awk</span> <span class="token string">'$10!=0&amp;&amp;$10!=-1 {print $10}'</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token function">sed</span> <span class="token string">'s/,/ /g'</span> <span class="token number">10</span>-audio.csv<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">wc</span> -l
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>&lt;()</code> is a syntax for <a href="http://mywiki.wooledge.org/ProcessSubstitution" target="_blank" rel="noopener noreferrer">process substitution<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="_5-environment-variable"><a href="#_5-environment-variable" class="header-anchor">#</a> 5. Environment Variable</h3> <p>In developer realm, we often hear <strong>Environment</strong> but what is it exactly? I'm glad you ask (if you did not, it is ok.).</p> <blockquote><p><a href="https://www.tutorialspoint.com/unix/unix-environment.htm" target="_blank" rel="noopener noreferrer">Tutorialspoint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>An important Unix concept is the environment, which is defined by environment variables. Some are set by the system, others by you, yet others by the shell, or any program that loads another program.</p> <p>A variable is a character string to which we assign a value. The value assigned could be a number, text, filename, device, or any other type of data.</p></blockquote> <p>The meaning from the dictionary.</p> <blockquote><p><a href="https://www.oxfordlearnersdictionaries.com/definition/english/environment" target="_blank" rel="noopener noreferrer">Oxford Languages<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Environment (noun): the conditions in which a person, animal or plant lives or operates or in which an activity takes place</p></blockquote> <p>In my words, <strong>Environment</strong> is the thing that defined why two rooms are different. Why would you choose to work at Library over your bedroom (or someone might choose otherwise). Why is your phone different from another phone. In UNIX, it is the same concept. Start from what package is installed, which version?. These are a part of <strong>Environment</strong>.</p> <p><strong>Environment Variable</strong> is a variable (just like in your programming language) in that environment. Before we understand why we need this, let's play around with this concept.</p> <p>Open your terminal and type <code>echo $PATH</code></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>: (Your output will be different from mine)</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>/usr/bin:/usr/local/freesurfer/7.2.0//bin:/usr/local/freesurfer/7.2.0//fsfast/bin:/usr/local/freesurfer/7.2.0//tktools:/usr/local/freesurfer/7.2.0//mni/bin:/home/{your_name}/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/freesurfer/7.2.0/bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>$PATH</code> is one of the variable in your environment and it uses to define where the commands are located. Let's create our own command for fun.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> ~/.local/bin
<span class="token builtin class-name">echo</span> <span class="token string">'echo &quot;Hello &quot;`whoami`&quot;, welcome to SAD.&quot;'</span> <span class="token operator">&gt;</span> greeting
<span class="token function">chmod</span> +x greeting 
greeting 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>Hello {your_name}, welcome to SAD.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>What we just did is create a script named <em>greeting</em>, tell the system that it is executable, and call the script. You can call this <em>greeting</em> script from anywhere in your system as long as <code>~/.local/bin</code> is in the <code>$PATH</code>.</p> <h4 id="variable-vs-environment-variable"><a href="#variable-vs-environment-variable" class="header-anchor">#</a> Variable vs Environment Variable</h4> <p>To make thing even more confuse, there are <strong>variable</strong> and <strong>Environment variable</strong>. While the usage is the same, the effect of both is a bit different.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">VAR_A</span><span class="token operator">=</span><span class="token number">10</span>        <span class="token comment"># This is Variable</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">VAR_B</span><span class="token operator">=</span><span class="token number">20</span> <span class="token comment"># This is Environment Variable</span>
<span class="token function">expr</span> <span class="token variable">$VAR_A</span> + <span class="token variable">$VAR_B</span> <span class="token comment"># Calculate plus on $VAR_A and $VAR_B</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>30
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The <code>export</code> command tells the inherit/child process to declare this variable. Confuse?</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> ~/playGrd
<span class="token function">touch</span> var_vs_varEn
<span class="token builtin class-name">echo</span> <span class="token string">'echo $VAR_A'</span> <span class="token operator">&gt;&gt;</span> var_vs_varEn
<span class="token builtin class-name">echo</span> <span class="token string">'echo $VAR_B'</span> <span class="token operator">&gt;&gt;</span> var_vs_varEn
<span class="token function">chmod</span> +x var_vs_varEn
./var_vs_varEn
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>
20
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>The first line is supposed to print <em>10</em> but it is blank. Because when you call your script, it forks a new child and runs it. The forking process includes <code>export</code> script in the beginning. Therefore, there is variable <code>$VAR_B</code> and not <code>$VAR_A</code></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">export</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:(Your output will be different from mine)</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>declare -x COLORTERM=&quot;truecolor&quot;
declare -x DBUS_SESSION_BUS_ADDRESS=&quot;unix:path=/run/user/1000/bus&quot;
declare -x DESKTOP_SESSION=&quot;ubuntu&quot;
declare -x DISPLAY=&quot;:0&quot;
declare -x DOCKER_HOST=&quot;unix:///run/user/1000/docker.sock&quot;
declare -x FIX_VERTEX_AREA=&quot;&quot;
declare -x FMRI_ANALYSIS_DIR=&quot;/usr/local/freesurfer/7.2.0//fsfast&quot;
...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">export</span> <span class="token operator">|</span> <span class="token function">grep</span> VAR_B
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Output</strong>:</p> <div class="language-Text line-numbers-mode"><pre class="language-text"><code>declare -x VAR_B=&quot;20&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="but-why"><a href="#but-why" class="header-anchor">#</a> But Why?</h4> <p>There are many use cases for <strong>Environment Variable</strong>. One easy use case is when you are developing your application. You will often write the code in your personal laptop. Once you done with developing, the app needs to be deployed on server. This two stages deploying scheme (Laptop = Dev stage, Server = Production Stage) is a common workflow. One problem is the configuration in your app might need to be changed according to each stage (<a href="https://www.atlassian.com/continuous-delivery/principles/configuration-management" target="_blank" rel="noopener noreferrer">Configuration Management<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</p> <ol><li><strong>Manual</strong>: of course, the most basic way is to change the configuration manually everytime you deploy.</li> <li><strong>Seperate Stage Configuration</strong>: You write two configuration files and everytime you deploy, you simply change the name of the configuration file. (maybe, dev-config, prod-config, and config)</li> <li><strong>Environment Variable</strong>: The first two ways still require some level of human work. This way, your app will automatically aware of the stage. You might <code>export STAGE=&quot;dev&quot;</code> on your local and <code>export STAGE=&quot;prod&quot;</code> on the server. The app (depen on programming language) can check these <code>export</code> list and write a basic <code>if</code> statement and load the intened configuration file.</li></ol> <div class="page-nav"><p class="inner"><span class="prev"> 
        ←
        <a href="./setup-linux.html">Workshop 2 - Have accessible Linux environment</a></span> <span class="next"><a href="./home-work-1.html">Homework</a>
        →
    </span></p></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/Software-Architecture/assets/js/app.178fe564.js" defer></script><script src="/Software-Architecture/assets/js/2.afe5a6c2.js" defer></script><script src="/Software-Architecture/assets/js/14.d09b7494.js" defer></script>
  </body>
</html>
