(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{433:function(e,s,t){"use strict";t.r(s);var a=t(54),r=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"lab-7-proxy-server-and-production-ready"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lab-7-proxy-server-and-production-ready"}},[e._v("#")]),e._v(" Lab 7: Proxy server and Production Ready")]),e._v(" "),t("p",[e._v("Hi guys, This lab we would learn about Proxy Server for your mini-microservice app(s) and how to make our Image and Container to be "),t("strong",[e._v("Production Ready")]),e._v(".")]),e._v(" "),t("ul",[t("li",[e._v("Q: What is production ready?")]),e._v(" "),t("li",[e._v("A: "),t("a",{attrs:{href:"https://softwareengineering.stackexchange.com/questions/61726/define-production-ready",target:"_blank",rel:"noopener noreferrer"}},[e._v("stackexchange"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("To make our container(s) is production ready, we want it to be "),t("strong",[e._v("stateless")]),e._v(" as possible. Therefore, we would remove the "),t("strong",[e._v("volume")]),e._v("(s).")]),e._v(" "),t("h2",{attrs:{id:"workshops"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#workshops"}},[e._v("#")]),e._v(" Workshops")]),e._v(" "),t("h3",{attrs:{id:"nginx-reverse-proxy-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-reverse-proxy-server"}},[e._v("#")]),e._v(" "),t("RouterLink",{attrs:{to:"/lab07/nginx.html"}},[e._v("Nginx Reverse Proxy Server")])],1),e._v(" "),t("h3",{attrs:{id:"traefik-reverse-proxy-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#traefik-reverse-proxy-server"}},[e._v("#")]),e._v(" "),t("RouterLink",{attrs:{to:"/lab07/traefik.html"}},[e._v("Traefik Reverse Proxy Server")])],1),e._v(" "),t("h1",{attrs:{id:"lab-7-continue-docker-context"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lab-7-continue-docker-context"}},[e._v("#")]),e._v(" Lab 7 (Continue): "),t("a",{attrs:{href:"https://docs.docker.com/engine/context/working-with-contexts/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker context"),t("OutboundLink")],1)]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("Docker context")]),e._v(" make it easy for a single Docker CLI to manage multiple Swarm clusters, multiple Kubernetes clusters, and multiple individual Docker nodes.")]),e._v(" "),t("li",[e._v("To make it short, "),t("strong",[e._v("Docker context")]),e._v(" allows you to manipulate the Docker Node remotely. Therefore, you can use this method to deploy your container (app) easier.")])]),e._v(" "),t("h2",{attrs:{id:"_1-make-sure-you-can-ssh-to-remote-machine"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-make-sure-you-can-ssh-to-remote-machine"}},[e._v("#")]),e._v(" 1. Make sure you can SSH to remote machine")]),e._v(" "),t("div",{staticClass:"language-config line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("...\nHost lab-sad-ssh\n  HostName XXX.XXX.XXX.XXX (or hostname)\n  User {username}\n  IdentityFile {path of private key}\n...\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br")])]),t("h2",{attrs:{id:"_2-create-the-context"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-create-the-context"}},[e._v("#")]),e._v(" 2. Create the context")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("docker context create lab-sad-context --docker "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("host")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("ssh://lab-sad-ssh\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("docker context "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("output")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("NAME                                TYPE                DESCRIPTION                               DOCKER ENDPOINT                                KUBERNETES ENDPOINT   ORCHESTRATOR\ndefault *                           moby                Current DOCKER_HOST based configuration   npipe:////./pipe/docker_engine                                       swarm\nlab-sad-context                     moby                                                          ssh://lab-sad-ssh\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("h2",{attrs:{id:"_3-switch-context"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-switch-context"}},[e._v("#")]),e._v(" 3. Switch Context")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("docker context use lab-sad-context\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("docker context "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("output")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("NAME                                TYPE                DESCRIPTION                               DOCKER ENDPOINT                                KUBERNETES ENDPOINT   ORCHESTRATOR\ndefault                             moby                Current DOCKER_HOST based configuration   npipe:////./pipe/docker_engine                                       swarm\nlab-sad-context *                   moby                                                          ssh://lab-sad-ssh\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("h2",{attrs:{id:"_4-compose-up"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-compose-up"}},[e._v("#")]),e._v(" 4. Compose up")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),t("p",[e._v("Used "),t("RouterLink",{attrs:{to:"/lab07/nginx.html"}},[e._v("Nginx Reverse Proxy Server")])],1)]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("docker-compose -f ./docker-compose-prod.yml up --build -d\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);