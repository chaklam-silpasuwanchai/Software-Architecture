<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Workshop 2. Django Philosophy | AIT SAD 2022</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/Software-Architecture/assets/css/0.styles.784d81f9.css" as="style"><link rel="preload" href="/Software-Architecture/assets/js/app.eec50cdd.js" as="script"><link rel="preload" href="/Software-Architecture/assets/js/2.07d1f3ff.js" as="script"><link rel="preload" href="/Software-Architecture/assets/js/4.65ec6f68.js" as="script"><link rel="prefetch" href="/Software-Architecture/assets/js/10.f3402f4e.js"><link rel="prefetch" href="/Software-Architecture/assets/js/11.4a950145.js"><link rel="prefetch" href="/Software-Architecture/assets/js/12.76035275.js"><link rel="prefetch" href="/Software-Architecture/assets/js/13.9c024292.js"><link rel="prefetch" href="/Software-Architecture/assets/js/14.0a753e5e.js"><link rel="prefetch" href="/Software-Architecture/assets/js/15.01c8fbd4.js"><link rel="prefetch" href="/Software-Architecture/assets/js/16.a1c4cf27.js"><link rel="prefetch" href="/Software-Architecture/assets/js/17.6a7a9386.js"><link rel="prefetch" href="/Software-Architecture/assets/js/18.602e46a7.js"><link rel="prefetch" href="/Software-Architecture/assets/js/19.3d9f13e6.js"><link rel="prefetch" href="/Software-Architecture/assets/js/20.514a91dd.js"><link rel="prefetch" href="/Software-Architecture/assets/js/21.0e629b0b.js"><link rel="prefetch" href="/Software-Architecture/assets/js/22.d87e21ed.js"><link rel="prefetch" href="/Software-Architecture/assets/js/23.a0eb0173.js"><link rel="prefetch" href="/Software-Architecture/assets/js/24.175608bd.js"><link rel="prefetch" href="/Software-Architecture/assets/js/25.40af0d61.js"><link rel="prefetch" href="/Software-Architecture/assets/js/26.4b3737bf.js"><link rel="prefetch" href="/Software-Architecture/assets/js/27.c625b139.js"><link rel="prefetch" href="/Software-Architecture/assets/js/28.59e98571.js"><link rel="prefetch" href="/Software-Architecture/assets/js/29.c6195bc7.js"><link rel="prefetch" href="/Software-Architecture/assets/js/3.2a1b3247.js"><link rel="prefetch" href="/Software-Architecture/assets/js/30.a2271845.js"><link rel="prefetch" href="/Software-Architecture/assets/js/31.c517362f.js"><link rel="prefetch" href="/Software-Architecture/assets/js/32.b295e886.js"><link rel="prefetch" href="/Software-Architecture/assets/js/33.04ea05c5.js"><link rel="prefetch" href="/Software-Architecture/assets/js/34.e7ca5215.js"><link rel="prefetch" href="/Software-Architecture/assets/js/35.a179a240.js"><link rel="prefetch" href="/Software-Architecture/assets/js/36.9b88a982.js"><link rel="prefetch" href="/Software-Architecture/assets/js/37.81087a2a.js"><link rel="prefetch" href="/Software-Architecture/assets/js/38.95f800a1.js"><link rel="prefetch" href="/Software-Architecture/assets/js/39.9e0a4119.js"><link rel="prefetch" href="/Software-Architecture/assets/js/5.8c80ceb8.js"><link rel="prefetch" href="/Software-Architecture/assets/js/6.6b357e94.js"><link rel="prefetch" href="/Software-Architecture/assets/js/7.9eca74aa.js"><link rel="prefetch" href="/Software-Architecture/assets/js/8.e9098283.js"><link rel="prefetch" href="/Software-Architecture/assets/js/9.c524c444.js">
    <link rel="stylesheet" href="/Software-Architecture/assets/css/0.styles.784d81f9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Software-Architecture/" class="home-link router-link-active"><!----> <span class="site-name">AIT SAD 2022</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/chaklam-silpasuwanchai/Software-Architecture" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/chaklam-silpasuwanchai/Software-Architecture" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="workshop-2-django-philosophy"><a href="#workshop-2-django-philosophy" class="header-anchor">#</a> Workshop 2. Django Philosophy</h1> <p></p><div class="table-of-contents"><ul><li><a href="#what-is-django">What is Django?</a></li><li><a href="#django-web-components">Django Web Components</a></li><li><a href="#task-2-1-initiate-the-project">Task 2-1. Initiate the project</a></li><li><a href="#task-2-2-config-postgresql">Task 2-2. Config PostgreSQL</a></li><li><a href="#task-2-3-our-first-app">Task 2-3. Our first app</a><ul><li><a href="#_1-do-it-in-static-way">1. Do it in Static Way</a></li><li><a href="#_2-do-it-in-dynamic-way">2. Do it in Dynamic Way</a></li></ul></li></ul></div><p></p> <h2 id="what-is-django"><a href="#what-is-django" class="header-anchor">#</a> What is Django?</h2> <p>We have not yet talk about Django. Django is a web development framework written in Python. There are tons of framework out there written in many many languages. A real question to ask is what is a framework and why should we care?</p> <blockquote><p><a href="https://en.wikipedia.org/wiki/Software_framework" target="_blank" rel="noopener noreferrer">wiki<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>In computer programming, a <strong>software framework</strong> is an abstraction in which software, providing generic functionality, can be selectively changed by additional user-written code, thus providing application-specific software. It provides a standard way to build and deploy applications and is a universal, reusable software environment that provides particular functionality as part of a larger software platform to facilitate the development of software applications, products and solutions. Software frameworks may include support programs, compilers, code libraries, toolsets, and application programming interfaces (APIs) that bring together all the different components to enable development of a project or system.</p> <p>Frameworks have key distinguishing features that separate them from normal libraries:</p> <ul><li>inversion of control: In a framework, unlike in libraries or in standard user applications, the overall program's flow of control is not dictated by the caller, but by the framework. This is usually achieved with the Template Method Pattern.</li> <li>default behaviour: This can be provided with the invariant methods of the Template Method Pattern in an abstract class which is provided by the framework.</li> <li>extensibility: A user can extend the framework – usually by selective overriding – or programmers can add specialized user code to provide specific functionality. This is usually achieved by a hook method in a subclass that overrides a template method in the superclass.</li> <li>non-modifiable framework code: The framework code, in general, is not supposed to be modified, while accepting user-implemented extensions. In other words, users can extend the framework, but cannot modify its code.</li></ul></blockquote> <p>In my word, a framework control how you code. It embeds a way of thinking, designing, and developing. Remember in the previous labs, without a framework, you are free to do anything. Imagine that you are a new employee of a company. They give you a project to maintain. If the project written in a frameworkless way, how long do you need to understand all the code? On the other hand, if the project written in python and with Django, you will be familiar with the core structure and functions right away.</p> <p>With a framework, your team will work in a similar fashion (in some level). When your team understands the same framework, you would not need to establish a developing protocol. This means all of the team member follow the best practice/guidelines of that framework. If you decide not to use a framework, finally, at some point, you will establish your own philosophy or your project is a mess.</p> <p>In web development, a CRUD (create-remove-update-delete) is a very common operations. Data is store in the database and your program has to fetch and manipulate it. Instead of writing, testing, and debuging everything from the ground up, a CRUD framework would have done that for you and all you need is to focus on modelling and designing your web. In addition, a web all has a common security risk. <a href="https://owasp.org/www-project-top-ten/" target="_blank" rel="noopener noreferrer">Top 10 Web Application Security Risks by OWASP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a list of risk. A framework will not fix all the risks but it would certainly prevent an easy vulnerability like <strong>SQL injection</strong>.</p> <h2 id="django-web-components"><a href="#django-web-components" class="header-anchor">#</a> Django Web Components</h2> <img src="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Django/Introduction/basic-django.png"> <p>ref: developer.mozilla.org</p> <p>You might be familiar with MVC architecture (Model-View-Controller). In Django, the architecture is MVT (Model-View-Template). We could argure on and on which one is better (<a href="https://www.geekinsta.com/difference-between-mvc-and-mvt/" target="_blank" rel="noopener noreferrer">MVC vs MVT<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>). At the end of the day, you choose which one you preferred and suited to the problem you are solving.</p> <h2 id="task-2-1-initiate-the-project"><a href="#task-2-1-initiate-the-project" class="header-anchor">#</a> Task 2-1. Initiate the project</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ <span class="token builtin class-name">cd</span> ~/playGrd/myDjango-app
<span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ django-admin startproject mysite
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Here is what you should have.</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>myDjango-app/
    .venv/
    mysite/
        manage.py
        mysite/
            __init__.py
            settings.py
            urls.py
            asgi.py
            wsgi.py
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>We could take a look at our first site by running a server</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ <span class="token builtin class-name">cd</span> ~/playGrd/myDjango-app/mysite
<span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py runserver
Watching <span class="token keyword">for</span> <span class="token function">file</span> changes with StatReloader
Performing system checks<span class="token punctuation">..</span>.

System check identified no issues <span class="token punctuation">(</span><span class="token number">0</span> silenced<span class="token punctuation">)</span>.

You have <span class="token number">18</span> unapplied migration<span class="token punctuation">(</span>s<span class="token punctuation">)</span>. Your project may not work properly <span class="token keyword">until</span> you apply the migrations <span class="token keyword">for</span> app<span class="token punctuation">(</span>s<span class="token punctuation">)</span>: admin, auth, contenttypes, sessions.
Run <span class="token string">'python manage.py migrate'</span> to apply them.
December <span class="token number">27</span>, <span class="token number">2021</span> - <span class="token number">16</span>:48:59
Django version <span class="token number">4.0</span>, using settings <span class="token string">'mysite.settings'</span>
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Go to your browser and put in the <code>http://127.0.0.1:8000/</code> in the address bar. You should see the congratulation page.</p> <img src="/Software-Architecture/assets/img/lab3-task2-1_1.545a2145.png"> <h2 id="task-2-2-config-postgresql"><a href="#task-2-2-config-postgresql" class="header-anchor">#</a> Task 2-2. Config PostgreSQL</h2> <p>By default, <code>Django</code> use SQLite3 as a database. Once we run the project, it initiates a SQLite databse.</p> <div class="language-text line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>myDjango-app/
    .venv/
    mysite/
        db.dqlite3
        manage.py
        mysite/
            __init__.py
            settings.py
            urls.py
            asgi.py
            wsgi.py
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>We will configure Django to use PostgreSQL.</p> <p>First, create a database for our project.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ <span class="token function">sudo</span> -u postgres createdb mysite
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>In our <code>mysite</code> project, edit <code>settings.py</code> line 76.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>DATABASES <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'ENGINE'</span><span class="token punctuation">:</span> <span class="token string">'django.db.backends.postgresql'</span><span class="token punctuation">,</span>
        <span class="token string">'NAME'</span><span class="token punctuation">:</span> <span class="token string">'mysite'</span><span class="token punctuation">,</span>
        <span class="token string">'USER'</span><span class="token punctuation">:</span> <span class="token string">'postgres'</span><span class="token punctuation">,</span>
        <span class="token string">'PASSWORD'</span><span class="token punctuation">:</span> <span class="token string">'{your_postgres_password}'</span><span class="token punctuation">,</span>
        <span class="token string">'HOST'</span><span class="token punctuation">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
        <span class="token string">'PORT'</span><span class="token punctuation">:</span> <span class="token string">'5432'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Once you save, the server should restart with this message.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>/home/<span class="token punctuation">{</span>your_name<span class="token punctuation">}</span>/playGrd/myDjango-app/mysite/mysite/settings.py changed, reloading.
Watching <span class="token keyword">for</span> <span class="token function">file</span> changes with StatReloader
Performing system checks<span class="token punctuation">..</span>.

System check identified no issues <span class="token punctuation">(</span><span class="token number">0</span> silenced<span class="token punctuation">)</span>.

You have <span class="token number">18</span> unapplied migration<span class="token punctuation">(</span>s<span class="token punctuation">)</span>. Your project may not work properly <span class="token keyword">until</span> you apply the migrations <span class="token keyword">for</span> app<span class="token punctuation">(</span>s<span class="token punctuation">)</span>: admin, auth, contenttypes, sessions.
Run <span class="token string">'python manage.py migrate'</span> to apply them.
December <span class="token number">27</span>, <span class="token number">2021</span> - <span class="token number">17</span>:45:09
Django version <span class="token number">4.0</span>, using settings <span class="token string">'mysite.settings'</span>
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>The red text you see tells us that there are 18 unapplied migration(s). Remember this number for now.</p> <h2 id="task-2-3-our-first-app"><a href="#task-2-3-our-first-app" class="header-anchor">#</a> Task 2-3. Our first app</h2> <p>For this task, let's create a page that will show your members (again).</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ <span class="token builtin class-name">cd</span> ~/playGrd/myDjango-app/mysite
<span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py startapp teammate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Django creates a new folder with following files.</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>teammate/
    __init__.py
    admin.py
    apps.py
    migrations/
        __init__.py
    models.py
    tests.py
    views.py
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Edit the <code>teammate/views.py</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponse

<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">&quot;Hey Hey Hey World!!!&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Edit the <code>mysite/urls.py</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token keyword">import</span> teammate<span class="token punctuation">.</span>views

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> teammate<span class="token punctuation">.</span>views<span class="token punctuation">.</span>index<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'index'</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Now, reload <code>127.0.0.1:8080</code>. You should see <strong>Hey Hey Hey World!!!</strong> message.</p> <h3 id="_1-do-it-in-static-way"><a href="#_1-do-it-in-static-way" class="header-anchor">#</a> 1. Do it in Static Way</h3> <p>We are going to manually write your team member name and print it out.</p> <p>Edit the <code>teammate/views.py</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponse

<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    members <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Chaklam Silpasuwanchai&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Raknatee Chokluechai&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Akraradet Sinsamersuk&quot;</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>members<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-do-it-in-dynamic-way"><a href="#_2-do-it-in-dynamic-way" class="header-anchor">#</a> 2. Do it in Dynamic Way</h3> <p>We are going to model our teammate. That means we need to edit <code>tammate/models.py</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models

<span class="token keyword">class</span> <span class="token class-name">Teammate</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    first_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    last_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Create a migration file.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py makemigrations teammate
Migrations <span class="token keyword">for</span> <span class="token string">'teammate'</span><span class="token builtin class-name">:</span>
  teammate/migrations/0001_initial.py
    - Create model Teammate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>At this point, in order for the Django to notice the <code>teammate</code> app, we have to tell it in the <code>mysite/settings.py</code> at line 33</p> <div class="language-python line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br></div><pre class="language-python"><code>INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'teammate.apps.TeammateConfig'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.admin'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.auth'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.contenttypes'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.sessions'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.messages'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.staticfiles'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Now, rerun our app.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py runserver
Watching <span class="token keyword">for</span> <span class="token function">file</span> changes with StatReloader
Performing system checks<span class="token punctuation">..</span>.

System check identified no issues <span class="token punctuation">(</span><span class="token number">0</span> silenced<span class="token punctuation">)</span>.

You have <span class="token number">19</span> unapplied migration<span class="token punctuation">(</span>s<span class="token punctuation">)</span>. Your project may not work properly <span class="token keyword">until</span> you apply the migrations <span class="token keyword">for</span> app<span class="token punctuation">(</span>s<span class="token punctuation">)</span>: admin, auth, contenttypes, sessions, teammate.
Run <span class="token string">'python manage.py migrate'</span> to apply them.
December <span class="token number">27</span>, <span class="token number">2021</span> - <span class="token number">18</span>:13:00
Django version <span class="token number">4.0</span>, using settings <span class="token string">'mysite.settings'</span>
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Now, the red text inform there is one addition unapplied migration. The migration is Django mechanism to keep track of the changes of models.</p> <p>Let's augment our model a bit more to see what happen.</p> <p>Edit <code>teammate/models.py</code></p> <div class="language-python line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models

<span class="token keyword">class</span> <span class="token class-name">Teammate</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    title <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
    first_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    last_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Run the <em>create migration</em> again</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py makemigrations teammate
It is impossible to <span class="token function">add</span> a non-nullable field <span class="token string">'title'</span> to teammate without specifying a default. This is because the database needs something to populate existing rows.
Please <span class="token keyword">select</span> a fix:
 <span class="token number">1</span><span class="token punctuation">)</span> Provide a one-off default now <span class="token punctuation">(</span>will be <span class="token builtin class-name">set</span> on all existing rows with a null value <span class="token keyword">for</span> this <span class="token function">column</span><span class="token punctuation">)</span>
 <span class="token number">2</span><span class="token punctuation">)</span> Quit and manually define a default value <span class="token keyword">in</span> models.py.
Select an option:
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Here Django force us to provide a default value. This happen because we did not tell Django that this field can be null. For now, we will choose option <code>1</code> and put <code>&quot;Mr.&quot;</code> as a default value.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py makemigrations teammate
It is impossible to <span class="token function">add</span> a non-nullable field <span class="token string">'title'</span> to teammate without specifying a default. This is because the database needs something to populate existing rows.
Please <span class="token keyword">select</span> a fix:
 <span class="token number">1</span><span class="token punctuation">)</span> Provide a one-off default now <span class="token punctuation">(</span>will be <span class="token builtin class-name">set</span> on all existing rows with a null value <span class="token keyword">for</span> this <span class="token function">column</span><span class="token punctuation">)</span>
 <span class="token number">2</span><span class="token punctuation">)</span> Quit and manually define a default value <span class="token keyword">in</span> models.py.
Select an option: <span class="token number">1</span>
Please enter the default value as valid Python.
The datetime and django.utils.timezone modules are available, so it is possible to provide e.g. timezone.now as a value.
Type <span class="token string">'exit'</span> to <span class="token builtin class-name">exit</span> this prompt
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">&quot;Mr.&quot;</span>
Migrations <span class="token keyword">for</span> <span class="token string">'teammate'</span><span class="token builtin class-name">:</span>
  teammate/migrations/0002_teammate_title.py
    - Add field title to teammate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Actually, this is not a good option to choose. To understand why, we <code>migrate</code> and go to <code>Django Shell</code>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py migrate
Operations to perform:
  Apply all migrations: admin, auth, contenttypes, sessions, teammate
Running migrations:
  Applying contenttypes.0001_initial<span class="token punctuation">..</span>. OK
  Applying auth.0001_initial<span class="token punctuation">..</span>. OK
  Applying admin.0001_initial<span class="token punctuation">..</span>. OK
  Applying admin.0002_logentry_remove_auto_add<span class="token punctuation">..</span>. OK
  Applying admin.0003_logentry_add_action_flag_choices<span class="token punctuation">..</span>. OK
  Applying contenttypes.0002_remove_content_type_name<span class="token punctuation">..</span>. OK
  Applying auth.0002_alter_permission_name_max_length<span class="token punctuation">..</span>. OK
  Applying auth.0003_alter_user_email_max_length<span class="token punctuation">..</span>. OK
  Applying auth.0004_alter_user_username_opts<span class="token punctuation">..</span>. OK
  Applying auth.0005_alter_user_last_login_null<span class="token punctuation">..</span>. OK
  Applying auth.0006_require_contenttypes_0002<span class="token punctuation">..</span>. OK
  Applying auth.0007_alter_validators_add_error_messages<span class="token punctuation">..</span>. OK
  Applying auth.0008_alter_user_username_max_length<span class="token punctuation">..</span>. OK
  Applying auth.0009_alter_user_last_name_max_length<span class="token punctuation">..</span>. OK
  Applying auth.0010_alter_group_name_max_length<span class="token punctuation">..</span>. OK
  Applying auth.0011_update_proxy_permissions<span class="token punctuation">..</span>. OK
  Applying auth.0012_alter_user_first_name_max_length<span class="token punctuation">..</span>. OK
  Applying sessions.0001_initial<span class="token punctuation">..</span>. OK
  Applying teammate.0001_initial<span class="token punctuation">..</span>. OK
  Applying teammate.0002_teammate_title<span class="token punctuation">..</span>. OK
<span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py shell
Python <span class="token number">3.8</span>.10 <span class="token punctuation">(</span>default, Nov <span class="token number">26</span> <span class="token number">2021</span>, <span class="token number">20</span>:14:08<span class="token punctuation">)</span> 
<span class="token punctuation">[</span>GCC <span class="token number">9.3</span>.0<span class="token punctuation">]</span> on linux
Type <span class="token string">&quot;help&quot;</span>, <span class="token string">&quot;copyright&quot;</span>, <span class="token string">&quot;credits&quot;</span> or <span class="token string">&quot;license&quot;</span> <span class="token keyword">for</span> <span class="token function">more</span> information.
<span class="token punctuation">(</span>InteractiveConsole<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> from teammate.models <span class="token function">import</span> Teammate
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> t <span class="token operator">=</span> Teammate<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> t.title
<span class="token string">''</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>As you can see, the Teammate does not actually have a title set to <code>&quot;Mr.&quot;</code> becase we did not specify in the class. To fix that, we edit the <code>tammate/models.py</code></p> <div class="language-python line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models

<span class="token keyword">class</span> <span class="token class-name">Teammate</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    title <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">&quot;Mr.&quot;</span><span class="token punctuation">)</span>
    first_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    last_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py makemigrations teammate
Migrations <span class="token keyword">for</span> <span class="token string">'teammate'</span><span class="token builtin class-name">:</span>
  teammate/migrations/0003_alter_teammate_title.py
    - Alter field title on teammate
<span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py migrate
Operations to perform:
  Apply all migrations: admin, auth, contenttypes, sessions, teammate
Running migrations:
  Applying teammate.0003_alter_teammate_title<span class="token punctuation">..</span>. OK
<span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py shell
Python <span class="token number">3.8</span>.10 <span class="token punctuation">(</span>default, Nov <span class="token number">26</span> <span class="token number">2021</span>, <span class="token number">20</span>:14:08<span class="token punctuation">)</span> 
<span class="token punctuation">[</span>GCC <span class="token number">9.3</span>.0<span class="token punctuation">]</span> on linux
Type <span class="token string">&quot;help&quot;</span>, <span class="token string">&quot;copyright&quot;</span>, <span class="token string">&quot;credits&quot;</span> or <span class="token string">&quot;license&quot;</span> <span class="token keyword">for</span> <span class="token function">more</span> information.
<span class="token punctuation">(</span>InteractiveConsole<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> from teammate.models <span class="token function">import</span> Teammate
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> t <span class="token operator">=</span> Teammate<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> t.title
<span class="token string">'Mr.'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>Another benefit of doing this way is the <code>model.py</code> itself is a document. You will know right away from reading this file that the title will have a default value as <code>&quot;Mr.&quot;</code> (right at creation of object).</p> <p>As we play in the <code>Django Shell</code>, it is possible to interact with the database and test the model functionality in that shell environment. We could also populate data too. However, I would like to show you the elegant way.</p> <p>Before we can do that, we have to complete the <code>admin site</code> by creating a superuser account</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span>.venv<span class="token punctuation">)</span> $ python3 manage.py createsuperuser
Username: admin
Email address: admin@example.com
Password: **********
Password <span class="token punctuation">(</span>again<span class="token punctuation">)</span>: *********
Superuser created successfully.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>You can put any Username, Email, and Password you like.</p> <p>Run the server, and go to <code>localhost:8080/admin</code>. Login with the account you just created and you will land on the <code>Admin Dashboard</code></p> <img src="/Software-Architecture/assets/img/lab3-task2-3_1.2e29c633.png"> <p>In this page, you can perform any CRUD. But, hold on, there is no <code>Teammate</code>. That is because we have to register the model to adminsite.</p> <p>Edit <code>tammate/admin.py</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Teammate

admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>Teammate<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Run the server, and go to <code>localhost:8080/admin</code> again.</p> <img src="/Software-Architecture/assets/img/lab3-task2-3_2.e299b947.png"> <p>Use this feature to populate you tammate information.</p> <img src="/Software-Architecture/assets/img/lab3-task2-3_3.5945f4ea.png"> <p>The text written on the <code>TEAMMATE</code> table is not very information. We can change that.</p> <h4 id="level-1-override-the-str"><a href="#level-1-override-the-str" class="header-anchor">#</a> Level 1. Override the <code>__str__</code></h4> <p>Edit <code>teammate/models.py</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models

<span class="token keyword">class</span> <span class="token class-name">Teammate</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    title <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">&quot;Mr.&quot;</span><span class="token punctuation">)</span>
    first_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    last_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>title<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>first_name<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>last_name<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><img src="/Software-Architecture/assets/img/lab3-task2-3_4.abe07de3.png"> <h4 id="level-2-tell-adminsite-what-to-display"><a href="#level-2-tell-adminsite-what-to-display" class="header-anchor">#</a> Level 2. Tell AdminSite what to display</h4> <p>Edit <code>teammate/models.py</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Teammate

<span class="token keyword">class</span> <span class="token class-name">TeammateAdmin</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>ModelAdmin<span class="token punctuation">)</span><span class="token punctuation">:</span>
    list_display <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'first_name'</span><span class="token punctuation">,</span> <span class="token string">'last_name'</span><span class="token punctuation">)</span>

admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>Teammate<span class="token punctuation">,</span> TeammateAdmin<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><img src="/Software-Architecture/assets/img/lab3-task2-3_5.ff20ba90.png"> <p>The difference betweem the two levels is the the first one display everything in one column while the second one display in four columns. The benefit is you can sort each columns.</p> <hr> <p>Okay, back on track of writing a dynamic way.</p> <p>Edit <code>teammate/views.py</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponse
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Teammate

<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    members <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>Teammate<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> m <span class="token keyword">in</span> members<span class="token punctuation">:</span>
        name <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>m<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">}</span></span><span class="token string">. </span><span class="token interpolation"><span class="token punctuation">{</span>m<span class="token punctuation">.</span>title<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>m<span class="token punctuation">.</span>first_name<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>m<span class="token punctuation">.</span>last_name<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
        names<span class="token punctuation">.</span>append<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">&quot;&lt;br&gt;&quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="page-nav"><p class="inner"><span class="prev"> 
        ←
        <a href="./lab03_1.html">Workshop 1 - Core component of Web</a></span> <span class="next"><a href="./homework-3.html">Homework</a>
        →
    </span></p></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/Software-Architecture/assets/js/app.eec50cdd.js" defer></script><script src="/Software-Architecture/assets/js/2.07d1f3ff.js" defer></script><script src="/Software-Architecture/assets/js/4.65ec6f68.js" defer></script>
  </body>
</html>
