<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lab 4: Docker | AIT SAD 2022</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/Software-Architecture/assets/css/0.styles.784d81f9.css" as="style"><link rel="preload" href="/Software-Architecture/assets/js/app.e6c92363.js" as="script"><link rel="preload" href="/Software-Architecture/assets/js/2.afe5a6c2.js" as="script"><link rel="preload" href="/Software-Architecture/assets/js/26.19512bda.js" as="script"><link rel="prefetch" href="/Software-Architecture/assets/js/10.7091f0c0.js"><link rel="prefetch" href="/Software-Architecture/assets/js/11.714ccc5d.js"><link rel="prefetch" href="/Software-Architecture/assets/js/12.cf086468.js"><link rel="prefetch" href="/Software-Architecture/assets/js/13.7f859edc.js"><link rel="prefetch" href="/Software-Architecture/assets/js/14.3d04bc1a.js"><link rel="prefetch" href="/Software-Architecture/assets/js/15.58e6666a.js"><link rel="prefetch" href="/Software-Architecture/assets/js/16.880b1869.js"><link rel="prefetch" href="/Software-Architecture/assets/js/17.a814239c.js"><link rel="prefetch" href="/Software-Architecture/assets/js/18.84e7a91c.js"><link rel="prefetch" href="/Software-Architecture/assets/js/19.a8106ce9.js"><link rel="prefetch" href="/Software-Architecture/assets/js/20.2f2d462b.js"><link rel="prefetch" href="/Software-Architecture/assets/js/21.c72f16bd.js"><link rel="prefetch" href="/Software-Architecture/assets/js/22.a6a2d2ac.js"><link rel="prefetch" href="/Software-Architecture/assets/js/23.663f4789.js"><link rel="prefetch" href="/Software-Architecture/assets/js/24.0273e446.js"><link rel="prefetch" href="/Software-Architecture/assets/js/25.a9bea833.js"><link rel="prefetch" href="/Software-Architecture/assets/js/27.e5ce1f10.js"><link rel="prefetch" href="/Software-Architecture/assets/js/28.0bf4c980.js"><link rel="prefetch" href="/Software-Architecture/assets/js/29.d9ccbc92.js"><link rel="prefetch" href="/Software-Architecture/assets/js/3.ec89de63.js"><link rel="prefetch" href="/Software-Architecture/assets/js/30.26a5a94c.js"><link rel="prefetch" href="/Software-Architecture/assets/js/31.68b46755.js"><link rel="prefetch" href="/Software-Architecture/assets/js/4.d5e21b6f.js"><link rel="prefetch" href="/Software-Architecture/assets/js/5.092040d3.js"><link rel="prefetch" href="/Software-Architecture/assets/js/6.adaf319b.js"><link rel="prefetch" href="/Software-Architecture/assets/js/7.77d3b96e.js"><link rel="prefetch" href="/Software-Architecture/assets/js/8.c03be375.js"><link rel="prefetch" href="/Software-Architecture/assets/js/9.07d798f6.js">
    <link rel="stylesheet" href="/Software-Architecture/assets/css/0.styles.784d81f9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Software-Architecture/" class="home-link router-link-active"><!----> <span class="site-name">AIT SAD 2022</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/chaklam-silpasuwanchai/Software-Architecture" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/chaklam-silpasuwanchai/Software-Architecture" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="lab-4-docker"><a href="#lab-4-docker" class="header-anchor">#</a> Lab 4: Docker</h1> <p>Hello guys, Today we will learn everything that you need to know about to be the Docker master.</p> <p>Firstly, we will be focusing on how to create a container without using Docker-compose which we will talk about it later.</p> <h2 id="objective"><a href="#objective" class="header-anchor">#</a> Objective</h2> <ol><li>To learn how to create Docker Image.</li> <li>How to use Docker container.</li></ol> <h2 id="what-is-docker"><a href="#what-is-docker" class="header-anchor">#</a> What is Docker?</h2> <ul><li><p>Basically, it looks like VM but it is <strong>NOT</strong> VM. It is the <strong>process</strong>.</p></li> <li><p>For more informations please read here <a href="https://docs.docker.com/get-started/overview/" target="_blank" rel="noopener noreferrer">Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>Let say something like this. Assume you want to create your Django App with some databases with your team.</p> <ul><li>Situation 1
<ul><li>What do you need to do?
<ul><li>Install Python 3.8</li> <li><strong>pip</strong> many packages (For example Django V3)</li> <li>Install X database version 2</li> <li>coding</li></ul></li> <li>In other sides (your friends in your team) want to help you coding.
<ul><li>Install Python 3.9</li> <li><strong>pip</strong> Django V4</li> <li>Install X database version 3</li> <li><strong>Cannot</strong> run your code or missing some packages <strong>BOOM!</strong></li></ul></li></ul></li> <li>Situation 2
<ul><li>What do you need to do? (Assume you use Windows machine)
<ul><li>Install Python 3.8</li> <li><strong>pip</strong> many packages (For example Django V3)</li> <li>Install X database version 2</li> <li>coding</li></ul></li> <li>Let say, you already done your jobs. You want to deploy to Ubuntu server.
<ul><li>How could you make sure that your <strong>dev environment</strong> is same as <strong>production environment</strong>?</li></ul></li></ul></li></ul></li> <li><p>Docker can address those problems by create your own <strong>environment</strong>. Therefore, you can run your App in another machines with same <strong>environment</strong>.</p></li> <li><p><strong>Environment</strong> == <strong>Docker Container</strong></p></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>To make it short, Docker can solve &quot;It works on my machine (but another machine cannot).&quot;</li></ul></div> <h2 id="install-docker"><a href="#install-docker" class="header-anchor">#</a> Install Docker</h2> <h3 id="windows-user"><a href="#windows-user" class="header-anchor">#</a> Windows User</h3> <div class="custom-block warning"><p class="custom-block-title">Note for Windows User</p> <p>For Windows User, we have a few ways how to get Docker.</p> <ul><li>Docker Desktop with Hyper-V</li> <li>Docker Desktop with WSL2</li> <li>WSL2 and install Docker CE and Docker Client inside it</li></ul> <p>Currently, Docker Desktop with WSL2 is the best way.</p></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>For those who are using Windows for ML training with GPU. Docker Desktop WSL2 is support!</p></div> <ul><li>Download Docker Desktop <a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener noreferrer">link<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>You need to install WSL2 (Version 2 Only!) for Docker Engine. (When you are installing <strong>DockerDesktop.exe</strong>, it would tell you how to do. Please follow it.)</li></ul> <h3 id="mac-os-user"><a href="#mac-os-user" class="header-anchor">#</a> Mac OS User</h3> <ul><li>Download Docker Desktop <a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener noreferrer">link<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="ubuntu-user"><a href="#ubuntu-user" class="header-anchor">#</a> Ubuntu User</h3> <ul><li>remove old Docker in your machine and install new one with those scripts.</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> get.docker.com -O docker.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">sh</span> docker.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="docker-image"><a href="#docker-image" class="header-anchor">#</a> Docker Image</h2> <ul><li>To make it short, Docker Image looks like you are writing a Class (like programming) which has attribute, command and etc.</li> <li>There are many Docker image that you can use it. For example, nginx, MySQL, MongoDB and <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">more (click here for Docker Hub)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ul> <h2 id="docker-container"><a href="#docker-container" class="header-anchor">#</a> Docker Container</h2> <ul><li>It looks like you are creating object from your class (Docker Image).</li></ul> <h2 id="play-helloworld"><a href="#play-helloworld" class="header-anchor">#</a> Play HelloWorld</h2> <ol><li><strong>docker run</strong> is a command to create Docker container from Docker Image. If you do not have Docker Image, it would be downloaded (pull) automatically from Docker Hub.</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>docker run hello-world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>output</p> <div class="language- line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>Unable to find image 'hello-world:latest' locally
latest: Pulling from library/hello-world
2db29710123e: Pull complete
Digest: sha256:cc15c5b292d8525effc0f89cb299f1804f3a725c8d05e158653a563f15e4f685
Status: Downloaded newer image for hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><ol start="2"><li><a href="https://docs.docker.com/engine/reference/commandline/ps/" target="_blank" rel="noopener noreferrer">List containers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>docker container <span class="token function">ls</span> -a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>or</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>docker <span class="token function">ps</span> -a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>output</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>CONTAINER ID   IMAGE                      COMMAND                  CREATED          STATUS                      PORTS                    NAMES
8788afbe7a64   hello-world                &quot;/hello&quot;                 12 minutes ago   Exited (0) 12 minutes ago                            vigilant_mendeleev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>Because your container (from hello-world Image) already done its job (return exited code 0). You needs <strong>-a</strong> option.</li> <li>As you can see all informations about this container.
<ul><li>Container ID</li> <li>Image: Which is the Image that this container has been created.</li> <li>Command: What is the <strong>command</strong> that this container needs to run when it's started.</li> <li>Names: The name is actual name for this container.</li></ul></li></ul> <ol start="3"><li>Run again</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>docker run hello-world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>docker <span class="token function">ps</span> -a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>output</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>4c889b09335b   hello-world                &quot;/hello&quot;                 5 seconds ago    Exited (0) 3 seconds ago                            stupefied_curran
8788afbe7a64   hello-world                &quot;/hello&quot;                 22 minutes ago   Exited (0) 2 minutes ago                            vigilant_mendeleev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="workshops-create-your-own-docker-image-with-dockerfile"><a href="#workshops-create-your-own-docker-image-with-dockerfile" class="header-anchor">#</a> Workshops: Create your own Docker Image with Dockerfile</h2> <h3 id="hello-sad-class"><a href="#hello-sad-class" class="header-anchor">#</a> <a href="/Software-Architecture/lab04/hello-sad-class.html">Hello SAD Class</a></h3> <h3 id="nginx"><a href="#nginx" class="header-anchor">#</a> <a href="/Software-Architecture/lab04/nginx.html">Nginx</a></h3> <h3 id="fastapi-with-volume"><a href="#fastapi-with-volume" class="header-anchor">#</a> <a href="/Software-Architecture/lab04/fast-api.html">FastAPI with Volume</a></h3></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/Software-Architecture/assets/js/app.e6c92363.js" defer></script><script src="/Software-Architecture/assets/js/2.afe5a6c2.js" defer></script><script src="/Software-Architecture/assets/js/26.19512bda.js" defer></script>
  </body>
</html>
